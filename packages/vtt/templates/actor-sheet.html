<div class="shattered-wilds-sheet">
	<style>
		@import url("systems/shattered-wilds/styles/actor-sheet.css");
	</style>
	
	<form class="actor-sheet">
		<header class="sheet-header">
			<h1 class="charname">{{actor.name}}</h1>
		</header>
		<section class="sheet-body">
			<div class="controls" style="display:flex; gap:8px; margin-bottom:8px;">
				<button type="button" data-action="sw-import"><i class="fas fa-upload"></i> Import</button>
				<button type="button" data-action="sw-export"><i class="fas fa-download"></i> Export</button>
			</div>
			<div class="resources">
				{{#if characterSheet}}
					<h3>Character: {{characterSheet.name}}</h3>
					<p><strong>Race:</strong> {{characterSheet.race.primaryRace}}{{#if characterSheet.race.halfRace}} / {{characterSheet.race.halfRace}}{{/if}}</p>
					<p><strong>Class:</strong> {{characterSheet.characterClass.characterClass}} (Level {{characterSheet.level}})</p>
					
					<h4>Resources</h4>
					<ul>
						<li><strong>Heroism Points:</strong> {{resources.HeroismPoint.current}} / {{resources.HeroismPoint.max}}</li>
						<li><strong>Vitality Points:</strong> {{resources.VitalityPoint.current}} / {{resources.VitalityPoint.max}}</li>
						<li><strong>Focus Points:</strong> {{resources.FocusPoint.current}} / {{resources.FocusPoint.max}}</li>
						<li><strong>Spirit Points:</strong> {{resources.SpiritPoint.current}} / {{resources.SpiritPoint.max}}</li>
					</ul>
					
									<h4>Stats</h4>
				{{#if statTreeData}}
					<div class="stat-tree-grid">
						<!-- Level Section -->
						<div class="level-section">
							<div class="level-display">
								<span class="level-label">Level:</span>
								<div class="stat-value">
									<span class="points-circle">{{statTreeData.level.points}}</span>
									<span class="modifier-value">{{statTreeData.level.modifier.value.description}}</span>
								</div>
							</div>
						</div>
						
						<!-- Main Grid Layout -->
						<div class="stat-grid-container">
							<!-- Vertical Realm Labels -->
							<div class="realm-labels">
								{{#each statTreeData.realms}}
									<div class="realm-label {{type.name}}">
										<div class="realm-name">{{type.name}}</div>
										<div class="stat-value">
											<span class="points-circle">{{points}}</span>
											<span class="modifier-value">{{modifier.value.description}}</span>
										</div>
									</div>
								{{/each}}
							</div>
							
							<!-- 3x3 Attribute Grid -->
							<div class="attributes-grid">
								{{#each statTreeData.realms}}
									{{#each attributes}}
										<div class="attribute-panel">
											<!-- Attribute Header -->
											<div class="attribute-header">
												<span class="attribute-name">{{type.name}}</span>
												<div class="stat-value">
													<span class="points-circle">{{points}}</span>
													<span class="modifier-value">{{modifier.value.description}}</span>
												</div>
											</div>
											
											<!-- Skills List -->
											<div class="skills-list">
												{{#each skills}}
													<div class="skill-row">
														<span class="skill-name">{{type.name}}</span>
														<div class="stat-value">
															<span class="points-circle">{{points}}</span>
															<span class="modifier-value">{{modifier.value.description}}</span>
														</div>
													</div>
												{{/each}}
											</div>
										</div>
									{{/each}}
								{{/each}}
							</div>
						</div>
					</div>
				{{/if}}
				{{else}}
					<p>No character data imported yet. Use the Import button to load a character.</p>
				{{/if}}
				
				<div class="debug-section">
					<h4>Raw Properties (Debug)</h4>
					<ul>
						{{#each props as |value key|}}
							<li><code>{{key}}</code>: {{value}}</li>
						{{/each}}
					</ul>
				</div>
			</div>
		</section>
	</form>
</div>


