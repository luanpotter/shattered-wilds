<div class="dice-roll-modal">
	<style>
		@import url("systems/shattered-wilds/styles/dice-modal.css");
	</style>

	<form class="dice-roll-form">
		<!-- Header Section -->
		<div class="roll-header">
			<h3>{{statType}} Check</h3>
			<p>Base modifier: <strong>+{{modifier}}</strong></p>
		</div>

		<!-- Main Options Section -->
		<div class="roll-options">
			<!-- Extra Die Section -->
			<div class="option-group">
				<label class="checkbox-container">
					<input type="checkbox" name="useExtra">
					<span class="checkmark"></span>
					Use Extra Die
				</label>
				<div class="sub-option">
					<label for="extraAttribute">Attribute:</label>
					<select name="extraAttribute" disabled>
						{{#each attributeOptions}}
							{{#unless (eq key "Fortune")}}
								<option value="{{key}}">{{name}} ({{value}})</option>
							{{/unless}}
						{{/each}}
					</select>
					<small class="help-text">Extra die must roll ≤ selected attribute</small>
				</div>
			</div>

			<!-- Luck Die Section -->
			<div class="option-group">
				<label class="checkbox-container">
					<input type="checkbox" name="useLuck">
					<span class="checkmark"></span>
					Use Luck Die
				</label>
				<div class="sub-option">
					<small class="help-text">Luck die must roll ≤ Fortune ({{fortuneValue}})</small>
				</div>
			</div>

			<!-- Circumstance Modifier Section -->
			<div class="option-group">
				<label for="circumstanceModifier">Circumstance Modifier:</label>
				<input type="number" name="circumstanceModifier" value="0" step="1">
				<small class="help-text">Additional bonus/penalty to the roll</small>
			</div>

			<!-- Target DC Section -->
			<div class="option-group">
				<label for="targetDC">Target DC (optional):</label>
				<input type="number" name="targetDC" placeholder="Leave empty for no target" min="1" max="50" step="1">
				<small class="help-text">Difficulty Class to beat</small>
			</div>
		</div>

		<!-- Action Buttons -->
		<div class="modal-actions">
			<button type="button" class="btn btn-secondary" data-action="cancel">
				<i class="fas fa-times"></i> Cancel
			</button>
			<button type="submit" class="btn btn-primary">
				<i class="fas fa-dice-d12"></i> Roll Dice
			</button>
		</div>
	</form>
</div>
